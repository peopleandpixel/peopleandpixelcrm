# People & Pixel - Example environment configuration
# Copy this file to .env and adjust values for your environment.
#
# Application
APP_ENV=dev
APP_DEBUG=1
DEFAULT_LANG=en

# Data directory for JSON storage (absolute path recommended)
# Defaults to <project_root>/data when empty
#DATA_DIR=

# Installation flag used by the installer redirect
# Set to 1 after completing installation
INSTALLED=1

# Persistence mode
# Set USE_DB=1 to use a database via PDO instead of JSON files
USE_DB=0

# Database configuration (required when USE_DB=1, optional otherwise)
# Examples:
#   SQLite: DB_DSN=sqlite:/absolute/path/to/project/var/app.sqlite
#   MySQL:  DB_DSN=mysql:host=127.0.0.1;dbname=peopleandpixel;charset=utf8mb4
#   PGSQL:  DB_DSN=pgsql:host=127.0.0.1;port=5432;dbname=peopleandpixel
DB_DSN=
DB_USER=
DB_PASS=

# Logging
# LOG_LEVEL can be: debug, info, notice, warning, error, critical, alert, emergency
# Defaults depend on APP_ENV (debug in dev, error in test, warning in prod)
#LOG_LEVEL=


# Public API configuration
# Comma-separated list of allowed API tokens. Example: API_TOKEN=devtoken123,anotherToken
API_TOKEN=
# Optional: comma-separated webhook endpoint URLs to receive events (created/updated/deleted)
WEBHOOKS=
# Optional: shared secret for HMAC signature (header X-Webhook-Signature: sha256=<sig>)
WEBHOOK_SECRET=

# Outbound Email (SMTP)
# If SMTP_HOST is empty, the app will attempt to use PHP mail() as fallback.
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
# SMTP_SECURE can be: tls, ssl, or empty for none
SMTP_SECURE=tls
SMTP_FROM=no-reply@example.com
SMTP_FROM_NAME="People & Pixel"

# Comments & mentions notifications
# Set NOTIFY_COMMENTS=1 to enable email notifications for @mentions in comments
# Set NOTIFY_SELF=0 to avoid emailing the author when they mention themselves
NOTIFY_COMMENTS=0
NOTIFY_SELF=0

# Follow/watch digests
# Set NOTIFY_FOLLOWS=1 to enable daily digest emails to users following records (based on recent comments)
NOTIFY_FOLLOWS=0

# Automations
# Enable the simple automations engine (rules in automations.json)
AUTOMATIONS_ENABLED=0
# Maximum number of actions executed per incoming event (safety guard)
AUTOMATIONS_MAX_ACTIONS=10
# Allow automations to send emails via SMTP (set to 1 after configuring SMTP_*)
AUTOMATIONS_ALLOW_EMAIL=0

# Two-factor authentication (TOTP)
# When set, users with a totp_secret in their profile must supply a 6-digit code on login.
# TOTP_WINDOW sets the allowed +/- time steps (30s each). Default is 1.
#TOTP_WINDOW=1

# Permissions v2: object-level enforcement toggles
# Comma-separated list of entities that enforce owner-aware permissions on records.
# Leave empty to use defaults (contacts,times,tasks,employees,candidates,payments,storage,projects,deals)
#PERMISSIONS_OBJECT_LEVEL=

# Backup settings
# Number of snapshots to retain (oldest beyond this are deleted on new backup)
BACKUP_RETENTION=10
