{% extends 'layout.twig' %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">{{ __('Logs')|e }}</h1>

<div class="card bg-base-200">
  <div class="card-body">
    <div class="overflow-x-auto">
      <table class="table table-zebra text-sm">
        <thead>
          <tr>
            <th>{{ __('File')|e }}</th>
            <th>{{ __('Modified')|e }}</th>
            <th>{{ __('Size')|e }}</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for f in files %}
          <tr>
            <td><code>{{ f.file|e }}</code></td>
            <td>{{ f.mtime ? date('Y-m-d H:i', f.mtime) : '-' }}</td>
            <td>{{ (f.size/1024)|number_format(1, '.', ' ') }} KB</td>
            <td class="text-right">
              <a class="btn btn-xs" href="{{ url('/admin/logs/download', {file: f.file}) }}">{{ __('Download')|e }}</a>
            </td>
          </tr>
          {% else %}
          <tr><td colspan="4" class="opacity-70">{{ __('No logs found')|e }}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="mt-4">
      <a class="btn" href="{{ url('/admin/health') }}">{{ __('Back to health dashboard')|e }}</a>
    </div>
  </div>
</div>
{% endblock %}
