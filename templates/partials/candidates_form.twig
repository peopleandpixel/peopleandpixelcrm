<section>
    <h2>{{ title|default('')|e }}</h2>
    <form method="post" class="form"{% if form_action is defined and form_action %} action="{{ form_action }}"{% endif %}>
        {{ csrf_field()|raw }}
        {% if candidate is defined and candidate.id %}
            <input type="hidden" name="id" value="{{ (candidate.id)|int }}">
        {% endif %}
        <div class="form-row">
            <label for="name">{{ __('Name')|e }} *</label>
            <input id="name" name="name" type="text" value="{{ name|default(candidate.name|default(''))|e }}" required>
        </div>
        <div class="form-row">
            <label for="position">{{ __('Position')|e }}</label>
            <input id="position" name="position" type="text" value="{{ position|default(candidate.position|default(''))|e }}">
        </div>
        <div class="form-row">
            <label for="status">{{ __('Status')|e }}</label>
            {% set curStatus = status|default(candidate.status|default('new')) %}
            <select id="status" name="status">
                <option value="new" {{ curStatus == 'new' ? 'selected' : '' }}>{{ __('New')|e }}</option>
                <option value="in_review" {{ curStatus == 'in_review' ? 'selected' : '' }}>{{ __('In review')|e }}</option>
                <option value="interview" {{ curStatus == 'interview' ? 'selected' : '' }}>{{ __('Interview')|e }}</option>
                <option value="offer" {{ curStatus == 'offer' ? 'selected' : '' }}>{{ __('Offer')|e }}</option>
                <option value="hired" {{ curStatus == 'hired' ? 'selected' : '' }}>{{ __('Hired')|e }}</option>
                <option value="rejected" {{ curStatus == 'rejected' ? 'selected' : '' }}>{{ __('Rejected')|e }}</option>
            </select>
        </div>
        <div class="form-row">
            <label for="email">{{ __('Email')|e }}</label>
            <input id="email" name="email" type="email" value="{{ email|default(candidate.email|default(''))|e }}">
        </div>
        <div class="form-row">
            <label for="phone">{{ __('Phone')|e }}</label>
            <input id="phone" name="phone" type="tel" value="{{ phone|default(candidate.phone|default(''))|e }}">
        </div>
        <div class="form-row">
            <label for="notes">{{ __('Notes')|e }}</label>
            <textarea id="notes" name="notes" rows="4">{{ notes|default(candidate.notes|default(''))|e }}</textarea>
        </div>
        <div class="form-actions">
            <a class="btn btn-secondary" href="{{ url('/candidates') }}">{{ __('Cancel')|e }}</a>
            <button class="btn" type="submit">{{ submit_label|default(__('Save Candidate')|e) }}</button>
        </div>
    </form>
</section>
