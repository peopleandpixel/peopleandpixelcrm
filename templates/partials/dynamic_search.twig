{# Generic dynamic search form.
Expects:
- path: action URL (default current_path())
- q: current query string
- sort: current sort field (optional)
- dir: current sort direction (asc|desc) (optional)
- placeholder: optional placeholder text
- button_label: optional submit button label
- extra: optional map of extra hidden inputs (e.g., per/page)
- classes: optional classes for the form
#}
<form method="get" action="{{ (path|default(current_path()))|e }}" class="{{ classes|default('flex items-center gap-2')|e }}">
    <label for="q" class="sr-only">{{ __('Search')|e }}</label>
    <label class="input input-bordered flex items-center gap-2">
      <input class="grow" type="search" id="q" name="q" value="{{ q|default('')|e }}" placeholder="{{ (placeholder|default(__('Search‚Ä¶')))|e }}">
      <span aria-hidden="true">üîç</span>
    </label>
    {% if sort is defined %}<input type="hidden" name="sort" value="{{ sort|e }}">{% endif %}
    {% if dir is defined %}<input type="hidden" name="dir" value="{{ dir|e }}">{% endif %}
    {% if extra is defined and extra %}
        {% for k,v in extra %}
            <input type="hidden" name="{{ k|e }}" value="{{ v|e }}">
        {% endfor %}
    {% endif %}
    <button class="btn" type="submit">{{ button_label|default(__('Search'))|e }}</button>
</form>
