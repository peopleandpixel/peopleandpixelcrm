{% extends 'layout.twig' %}
{% block content %}
<section class="space-y-4 max-w-2xl">
  <h2 class="text-2xl font-bold">{{ __('New report')|e }}</h2>
  <form method="post" action="{{ url('/reports/new') }}" class="space-y-3">
    {{ csrf_field()|raw }}
    <div>
      <label class="block mb-1" for="name">{{ __('Name')|e }}</label>
      <input id="name" name="name" type="text" class="input input-bordered w-full" placeholder="{{ __('Optional name')|e }}">
    </div>
    <div>
      <label class="block mb-1" for="entity">{{ __('Entity')|e }}</label>
      <select id="entity" name="entity" class="select select-bordered w-full">
        {% for e in ['contacts','tasks','deals','projects','times','payments'] %}
          <option value="{{ e|e }}">{{ e|e }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
      <div>
        <label class="block mb-1" for="group_by">{{ __('Group by')|e }}</label>
        <select id="group_by" name="group_by" class="select select-bordered w-full">
          <option value="status">{{ __('Status')|e }}</option>
          <option value="owner_id">{{ __('Owner')|e }}</option>
          <option value="tag">{{ __('Tag')|e }}</option>
          <option value="date">{{ __('Date')|e }}</option>
        </select>
      </div>
      <div>
        <label class="block mb-1" for="metric">{{ __('Metric')|e }}</label>
        <select id="metric" name="metric" class="select select-bordered w-full">
          <option value="count">{{ __('Count')|e }}</option>
          <option value="sum_amount">{{ __('Sum amount')|e }}</option>
          <option value="sum_time">{{ __('Sum time (minutes)')|e }}</option>
        </select>
      </div>
    </div>
    <div>
      <label class="block mb-1" for="period">{{ __('Period')|e }}</label>
      <select id="period" name="period" class="select select-bordered w-full">
        <option value="month">{{ __('Monthly')|e }}</option>
        <option value="day">{{ __('Daily')|e }}</option>
      </select>
    </div>
    <fieldset class="border border-base-300 rounded p-3">
      <legend class="px-2 text-sm opacity-70">{{ __('Filters (optional)')|e }}</legend>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <div>
          <label class="block mb-1" for="from">{{ __('From (YYYY-MM-DD)')|e }}</label>
          <input id="from" name="from" type="date" class="input input-bordered w-full">
        </div>
        <div>
          <label class="block mb-1" for="to">{{ __('To (YYYY-MM-DD)')|e }}</label>
          <input id="to" name="to" type="date" class="input input-bordered w-full">
        </div>
        <div>
          <label class="block mb-1" for="status">{{ __('Status')|e }}</label>
          <input id="status" name="status" type="text" class="input input-bordered w-full" placeholder="open/active/won...">
        </div>
        <div>
          <label class="block mb-1" for="owner_id">{{ __('Owner ID')|e }}</label>
          <input id="owner_id" name="owner_id" type="text" class="input input-bordered w-full">
        </div>
        <div class="md:col-span-2">
          <label class="block mb-1" for="tag">{{ __('Tag contains')|e }}</label>
          <input id="tag" name="tag" type="text" class="input input-bordered w-full">
        </div>
      </div>
    </fieldset>
    <div class="flex gap-2">
      <button class="btn btn-primary" type="submit">{{ __('Save report')|e }}</button>
      <a class="btn" href="{{ url('/reports') }}">{{ __('Cancel')|e }}</a>
    </div>
  </form>
</section>
{% endblock %}
